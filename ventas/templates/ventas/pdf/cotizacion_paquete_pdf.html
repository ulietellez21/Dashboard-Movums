{% extends "ventas/pdf/base_cotizacion_pdf.html" %}
{% load humanize %}

{% block content %}
    {% with paquete=propuestas.paquete %}
        {% if paquete.vuelo %}
            {% include "ventas/pdf/components/seccion_vuelo.html" with vuelo=paquete.vuelo %}
        {% endif %}
        
        {% if paquete.hotel %}
            {% include "ventas/pdf/components/seccion_hotel.html" with hotel=paquete.hotel %}
        {% endif %}
        
        {% comment %}Tours: usar paquete_tours (lista explícita del contexto) o paquete.tours para asegurar que se rendericen en el PDF{% endcomment %}
        {% if paquete_tours %}
            {% for tour in paquete_tours %}
                {% include "ventas/pdf/components/seccion_tour.html" with tour=tour tour_index=forloop.counter %}
            {% endfor %}
        {% elif paquete.tours %}
            {% for tour in paquete.tours %}
                {% include "ventas/pdf/components/seccion_tour.html" with tour=tour tour_index=forloop.counter %}
            {% endfor %}
        {% endif %}
        
        {% if paquete.total %}
        <div class="card total-paquete-card">
            {% if paquete.forma_pago %}
            <table class="data-table">
                <tr>
                    <td style="width: 30%;"><strong>Forma de Pago:</strong></td>
                    <td>{{ paquete.forma_pago }}</td>
                </tr>
            </table>
            {% endif %}
            <div class="total-destacado total-paquete">
                <div class="total-text total-paquete-text">Total del Paquete MXN ${{ paquete.total|floatformat:2|intcomma }} Pesos</div>
            </div>
        </div>
        {% endif %}
    {% endwith %}
{% endblock %}

{% block terminos_condiciones %}
<div class="terminos-condiciones">
    <div class="terminos-condiciones-title">Términos y condiciones</div>
    <div class="terminos-condiciones-content">
        <p>Los boletos de avión no son reembolsables.</p>
        <p>Una vez emitido el boleto no puede ser asignado a una persona o aerolínea diferente.</p>
        <p>Los cambios en los boletos pueden ocasionar cargos extra, están sujetos a disponibilidad, clase tarifaría y políticas de cada aerolínea al momento de solicitar el cambio.</p>
        <p>Para vuelos nacionales presentarse 2 horas antes de la salida del vuelo. Para vuelos internacionales presentarse 3 horas antes de la salida del vuelo.</p>
        <p>Menores de 2 años cumplidos en adelante pagan completo</p>
        <p>Sin asignación de asientos, si requiere asientos en específico tienen costo extra</p>
        <p><em>*Sujeto a disponibilidad y a cambios sin previo aviso*</em></p>
    </div>
</div>
{% endblock %}
